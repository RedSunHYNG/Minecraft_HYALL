#武器切换
replaceitem entity @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=1}] weapon.mainhand minecraft:diamond_pickaxe{Tags:["hy_zdy","mode2"],display:{Name:'[{"text":"噬万神之神镐","color":"gray","bold":true}]',Lore:['{"text":"总端源LV2","color":"gold"}','{"text":"注意·三源器所化","color":"red"}','{"text":"遭到总端创世神的封印","color":"green"}','{"text":"警告；封印轻微破损","color":"aqua"}']},Unbreakable:1b}
scoreboard players set @a[scores={hy_zdy_smb=1}] hy_zdy_smb 0
replaceitem entity @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=2}] weapon.mainhand minecraft:crossbow{Tags:["hy_zdy","mode1"],display:{Name:'[{"text":"诛仙始祖神弩","color":"gray","bold":true}]',Lore:['{"text":"总端源LV2","color":"gold"}','{"text":"注意·三源器所化","color":"red"}','{"text":"遭到总端创世神的封印","color":"green"}','{"text":"警告；封印轻微破损","color":"aqua"}']},Unbreakable:1b}
scoreboard players set @a[scores={hy_zdy_smb=2}] hy_zdy_smb 0
#吸星开关
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=3}] run tag @s add hy_zdy_xx
scoreboard players set @a[scores={hy_zdy_smb=3}] hy_zdy_smb 0
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=4}] run tag @s remove hy_zdy_xx
scoreboard players set @a[scores={hy_zdy_smb=4}] hy_zdy_smb 0
execute if entity @a[tag=hy_zdy_xx] run execute as @e[nbt=!{SelectedItem:{tag:{Tags:["hy_zdy"]}}}] at @s run tp @s ^ ^ ^0.1 facing entity @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},limit=1,tag=hy_zdy_xx]
#杀戮光环
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=5}] run tag @s add hy_zdy_kill
scoreboard players set @a[scores={hy_zdy_smb=5}] hy_zdy_smb 0
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=6}] run tag @s remove hy_zdy_kill
scoreboard players set @a[scores={hy_zdy_smb=6}] hy_zdy_smb 0
execute at @a[tag=hy_zdy_kill] at @e[distance=2..10] run particle minecraft:sweep_attack ~ ~ ~ 0 0 0 0.25 1 normal
execute at @a[tag=hy_zdy_kill] run say 一阵剑风袭过，@e[distance=2..10]被搅碎了。
execute at @a[tag=hy_zdy_kill] run kill @e[distance=2..10]
#模式切换
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=7}] run gamemode survival @s
scoreboard players set @a[scores={hy_zdy_smb=7}] hy_zdy_smb 0
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=8}] run gamemode creative @s
scoreboard players set @a[scores={hy_zdy_smb=8}] hy_zdy_smb 0
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=9}] run gamemode spectator @s
scoreboard players set @a[scores={hy_zdy_smb=9}] hy_zdy_smb 0
#系统重置
execute at @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=10}] run say 系统已重置
execute at @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=10}] run setblock ~ ~ ~ minecraft:command_block{auto:1b,CustomName:'{"text":"世界之声"}',Command:"summon falling_block ~ ~1 ~ {Time:1,BlockState:{Name:redstone_block},Passengers:[{id:armor_stand,Health:0,Passengers:[{id:falling_block,Time:1,BlockState:{Name:activator_rail},Passengers:[{id:command_block_minecart,Command:'gamerule commandBlockOutput false'},{id:command_block_minecart,Command:'gamerule sendCommandFeedback false'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_r2 minecraft.used:minecraft.diamond_pickaxe'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_r1 minecraft.used:minecraft.crossbow'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_q2 minecraft.dropped:minecraft.diamond_pickaxe'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_q1 minecraft.dropped:minecraft.crossbow'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_qmode dummy'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_zd dummy'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_smb trigger'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_smode trigger'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_ts dummy'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_ts1 dummy'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_r2 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_r1 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_q2 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_q1 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_qmode 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_zd 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_smb 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_smode 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_ts 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_ts1 0'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_timeq dummy'},{id:command_block_minecart,Command:'scoreboard objectives add hy_zdy_times dummy'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_times 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_timeq 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_dt 0'},{id:command_block_minecart,Command:'scoreboard players set @a hy_zdy_ksbh 0'},{id:command_block_minecart,Command:'setblock ~ ~1 ~ command_block{auto:1,Command:\"fill ~ ~ ~ ~ ~-3 ~ air\"}'},{id:command_block_minecart,Command:'kill @e[type=command_block_minecart,distance=..1]'}]}]}]}"}
scoreboard players set @a[scores={hy_zdy_smb=10}] hy_zdy_smb 0
#刷怪笼
execute at @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=11}] run setblock ~ ~ ~ minecraft:spawner{SpawnData:{id:"minecraft:wither_skeleton"},SpawnPotentials:[{Weight:100,Entity:{id:"minecraft:wither_skeleton"}},{Weight:100,Entity:{id:"minecraft:ravager"}},{Weight:100,Entity:{id:"minecraft:vindicator"}},{Weight:100,Entity:{id:"minecraft:slime"}},{Weight:100,Entity:{id:"minecraft:witch"}},{Weight:100,Entity:{id:"minecraft:husk"}},{Weight:100,Entity:{id:"minecraft:illusioner"}},{Weight:100,Entity:{id:"minecraft:phantom"}},{Weight:100,Entity:{id:"minecraft:ghast"}},{Weight:100,Entity:{id:"minecraft:ravager"}},{Weight:100,Entity:{id:"minecraft:vex"}},{Weight:100,Entity:{id:"minecraft:ender_dragon"}},{Weight:100,Entity:{id:"minecraft:stray"}},{Weight:100,Entity:{id:"minecraft:shulker"}}]}
execute at @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=11}] run say 当怪物爬上脊背。 
scoreboard players set @a[scores={hy_zdy_smb=11}] hy_zdy_smb 0
#效果清除
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=12}] run effect clear @s
scoreboard players set @a[scores={hy_zdy_smb=12}] hy_zdy_smb 0
#一键装备
execute at @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=13}] run setblock ~ ~ ~ minecraft:command_block[conditional=false,facing=west]{conditionMet:1b,auto:1b,CustomName:'{"text":"世界之声"}',powered:0b,Command:"summon falling_block ~ ~1 ~ {Time:1,BlockState:{Name:redstone_block},Passengers:[{id:armor_stand,Health:0,Passengers:[{id:falling_block,Time:99,BlockState:{Name:activator_rail},Passengers:[{id:command_block_minecart,Command:'give @p minecraft:netherite_sword{Unbreakable:1,Enchantments:[{id:\"minecraft:sweeping\",lvl:2147483647},{id:\"minecraft:sharpness\",lvl:2147483647},{id:\"minecraft:silk_touch\",lvl:1}]} 1'},{id:command_block_minecart,Command:'give @p minecraft:crossbow{Unbreakable:1,Enchantments:[{id:\"minecraft:piercing\",lvl:2147483647},{id:\"minecraft:multishot\",lvl:5},{id:\"minecraft:quick_charge\",lvl:5}]} 1'},{id:command_block_minecart,Command:'give @p minecraft:netherite_pickaxe{Unbreakable:1,Enchantments:[{id:\"minecraft:fortune\",lvl:100},{id:\"minecraft:knockback\",lvl:100}]}'},{id:command_block_minecart,Command:'replaceitem entity @p armor.head minecraft:netherite_helmet{Unbreakable:1,Enchantments:[{id:\"minecraft:protection\",lvl:2147483647},{id:\"minecraft:thorns\",lvl:2147483647}]} 1'},{id:command_block_minecart,Command:'/replaceitem entity @p armor.chest minecraft:elytra{Unbreakable:1,Enchantments:[{id:\"minecraft:protection\",lvl:2147483647},{id:\"minecraft:thorns\",lvl:2147483647}],AttributeModifiers:[{AttributeName:\"generic.armor\",Operation:0,Amount:20d,Slot:\"chest\",Name:\"Armor\",UUID:[I;1,2,3,4]}]} 1'},{id:command_block_minecart,Command:'/replaceitem entity @p armor.legs minecraft:netherite_leggings{Unbreakable:1,Enchantments:[{id:\"minecraft:protection\",lvl:2147483647},{id:\"minecraft:thorns\",lvl:2147483647}]} 1'},{id:command_block_minecart,Command:'/replaceitem entity @p armor.feet minecraft:netherite_boots{Unbreakable:1,Enchantments:[{id:\"minecraft:protection\",lvl:2147483647},{id:\"minecraft:thorns\",lvl:2147483647}]} 1'},{id:command_block_minecart,Command:'/give @p minecraft:bow{Unbreakable:1,Enchantments:[{id:\"minecraft:infinity\",lvl:1},{id:\"minecraft:power\",lvl:2147483647}]} 1'},{id:command_block_minecart,Command:'/give @p minecraft:trident{Unbreakable:1,Enchantments:[{id:\"minecraft:channeling\",lvl:1},{id:\"minecraft:impaling\",lvl:2147483647},{id:\"minecraft:loyalty\",lvl:3},{id:\"minecraft:sharpness\",lvl:5}]} 1'},{id:command_block_minecart,Command:'/give @p minecraft:shield{Unbreakable:1} 1'},{id:command_block_minecart,Command:'give @p arrow 64'},{id:command_block_minecart,Command:'give @p minecraft:netherite_pickaxe{Unbreakable:1,Enchantments:[{id:\"minecraft:efficiency\",lvl:2147483647}]} 1'},{id:command_block_minecart,Command:'setblock ~ ~1 ~ command_block{auto:1,Command:\"fill ~ ~ ~ ~ ~-3 ~ air\"}'},{id:command_block_minecart,Command:'kill @e[type=command_block_minecart,distance=..1]'}]}]}]}",SuccessCount:0,TrackOutput:1b,UpdateLastExecution:1b}
scoreboard players set @a[scores={hy_zdy_smb=13}] hy_zdy_smb 0
#不死之身
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=14}] run tag @s add hy_zdy_bszs
scoreboard players set @a[scores={hy_zdy_smb=14}] hy_zdy_smb 0
execute as @a[nbt={SelectedItem:{tag:{Tags:["hy_zdy"]}}},scores={hy_zdy_smb=15}] run tag @s remove hy_zdy_bszs
scoreboard players set @a[scores={hy_zdy_smb=15}] hy_zdy_smb 0
execute as @e[tag=hy_zdy_bszs,scores={zddeadtp=3..}] run spawnpoint @s ~ ~ ~



